<!DOCTYPE html><title>MiTunes | By William Baker</title><meta charset=utf-8><script src=music.js></script><script>function body_Load(){albumSelect=document.getElementById("album-select"),trackSelect=document.getElementById("track-select"),searchPane=document.getElementById("search-pane"),detailsPane=document.getElementById("details-pane"),addAlbums(),createKeyboard()}function addAlbums(){albumSelect.innerHTML="";for(var e=0;e<albums.length;e++)albumSelect.innerHTML+="<option>"+albums[e].title+"</option>";document.getElementById("albums-counter").innerHTML="("+albums.length+")"}function createKeyboard(){var e,t=["q","w","e","r","t","y","u","i","o","p"],a=["a","s","d","f","g","h","j","k","l"],n=["z","x","c","v","b","n","m"],s=document.getElementById("row1"),l=document.getElementById("row2"),c=document.getElementById("row3"),r=document.getElementById("row4");for(e=0;e<t.length;e++)s.innerHTML+=getKey(t[e],t[e].toUpperCase());for(e=0;e<a.length;e++)l.innerHTML+=getKey(a[e],a[e].toUpperCase());for(e=0;e<n.length;e++)c.innerHTML+=getKey(n[e],n[e].toUpperCase());r.innerHTML+='<button class="key medium" onclick="back1Press()">&#x2190;</button><button class="key large" onclick="keyPress(\' \')">Space</button><button class="key medium" onclick="resetPress()">&#x2716;</button>'}function getKey(e,t){return'<button class="key" onclick="keyPress(\''+e+"')\">"+t+"</button>"}function keyPress(e){document.search.textbox.value+=e,searchTextbox_Change(document.search.textbox)}function back1Press(){var e=document.search.textbox;e.value.length>0&&(e.value=e.value.substring(0,e.value.length-1),searchTextbox_Change(document.search.textbox))}function resetPress(){document.search.textbox.value.length>0&&(document.getElementById("background").className="visible")}function resetSearch(e){e&&(document.search.textbox.value="",searchTextbox_Change(document.search.textbox)),document.getElementById("background").className=""}function hideSearchPane(){searchPane.className="pane hidden",detailsPane.className="pane",document.getElementById("search-button").innerHTML="&#x2315;"}function showSearchPane(){searchPane.className="pane",detailsPane.className="pane hidden",document.getElementById("search-button").innerHTML="&#x21C6;"}function setSearchPaneVisible(e){e?showSearchPane():hideSearchPane()}function toggleSeachPaneVisible(){"pane hidden"==searchPane.className?showSearchPane():hideSearchPane()}function albums_Change(){populateTracks(albumSelect.selectedIndex)}function populateTracks(e){trackSelect.innerHTML="";for(var t=0;t<albums[e].tracks.length;t++)trackSelect.innerHTML+="<option>"+albums[e].tracks[t].title+"</option>";document.getElementById("tracks-counter").innerHTML="("+albums[e].tracks.length+")"}function tracks_Change(){playTrack(albumSelect.selectedIndex,trackSelect.selectedIndex),setSearchPaneVisible(!1)}function playTrack(e,t){document.getElementById("title-details").innerHTML=albums[e].tracks[t].title,document.getElementById("artist-details").innerHTML=albums[e].artist,document.getElementById("album-details").innerHTML=albums[e].title,document.getElementById("lyrics-details").innerHTML=albums[e].tracks[t].lyrics,document.getElementById("artwork-details").src="artwork/"+albums[e].artwork+".jpg";var a=document.getElementById("audio-details");a.src="audio/"+albums[e].artist+"/"+albums[e].title+"/"+albums[e].tracks[t].mp3;for(var n=0;n<a.childNodes.length;n++){var s=a.childNodes[n];"SOURCE"==s.tagName&&("audio/mpeg"==s.type?s.src="audio/BBC/"+albums[e].title+"/"+albums[e].tracks[t].mp3:s.src="audio/BBC/"+albums[e].title+"/"+albums[e].tracks[t].mp3.replace(".mp3",".wav"))}}function searchTextbox_Change(e){if(e.value.length>1){e.style.color="#A1DE9D",setSearchPaneVisible(!0);for(var t,a,n,s=document.getElementById("search-list-container"),l=[],c=[],r=e.value.toLowerCase().trim(),o=0;o<albums.length;o++){a=albums[o];for(var i=0;i<albums[o].tracks.length;i++)t={albumID:o,trackID:i},n=a.tracks[i],a.title.toLowerCase().startsWith(r)||a.artist.toLowerCase().startsWith(r)||n.title.toLowerCase().startsWith(r)||n.lyrics.toLowerCase().startsWith(r)?l.push(t):(a.title.toLowerCase().indexOf(r)>-1||a.artist.toLowerCase().indexOf(r)>-1||n.title.toLowerCase().indexOf(r)>-1||n.lyrics.toLowerCase().indexOf(r)>-1)&&c.push(t)}for(s.innerHTML="",o=0;o<l.length;o++)s.innerHTML+=getSearchItem(l[o].albumID,l[o].trackID,e.value);for(o=0;o<c.length;o++)s.innerHTML+=getSearchItem(c[o].albumID,c[o].trackID,e.value);document.getElementById("search-counter").innerHTML="("+(l.length+c.length)+")"}else setSearchPaneVisible(!1),e.style.color="#000000"}function getSearchItem(e,t,a){var n=highlightText(albums[e].tracks[t].title,a),s=highlightText(albums[e].title,a);return'<div class="search-item"><p class="title">'+n+'</p><p class="artist">'+highlightText(albums[e].artist,a)+'</p><p class="album">'+s+'</p><p class="lyrics">'+highlightText(albums[e].tracks[t].lyrics,a)+'</p><button class="key" onclick="searchPlayClick('+e+", "+t+')">Play</button></div>'}function searchPlayClick(e,t){setSearchPaneVisible(!1),playTrack(e,t),albumSelect.selectedIndex=e,populateTracks(e),trackSelect.selectedIndex=t}function highlightText(e,t){for(var a,n=e;-1!=a;)-1!=(a=n.toLowerCase().indexOf(t.toLowerCase(),a+31+t.length))&&(n=n.substring(0,a)+'<span class="highlight">'+n.substring(a,a+t.length)+"</span>"+n.substring(a+t.length,n.length));return n}var albumSelect,trackSelect,searchPane,detailsPane</script><style>.pane,select option{background-color:#fff}button,select option{cursor:pointer;transition:background-color .25s}body{margin:0;font-family:sans-serif;font-size:16px;letter-spacing:1px;background-color:#efefef}.unselectable,button{user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.player-container{width:60%;min-width:600px;margin:20px auto;text-align:center}.pane{width:30%;height:450px;margin:5px;display:inline-block;vertical-align:top;box-shadow:0 1px 3px rgba(0,0,0,.25)}button,input{vertical-align:middle;font-family:inherit;outline:0;border:0}#artwork-details,button{box-shadow:0 1px 2px rgba(0,0,0,.25)}.pane.wide-pane{width:calc(90% + 20px);height:320px}.pane.hidden{display:none}.pane-content{width:100%;height:392px;display:block;padding:10px 0;overflow-y:auto;box-sizing:border-box}#search-button,button,form{display:inline-block}select.pane-content{padding:0}h1{height:1.8em;line-height:1.8em;position:relative;margin:0;background-color:#34892e;color:#fff}h1 .counter{position:absolute;padding-right:5px;top:0;right:5px;font-size:.7em}select{border:0;font-family:inherit;outline:0}select option{padding:20px 5px;font-size:1.6em}select option:nth-child(odd){background-color:#f1faf0}select option:hover{background-color:#a1de9d}#title-details{font-size:1.3em;font-weight:700}#artist-details{font-size:1.1em;font-weight:700}#album-details{font-size:1.1em;font-style:italic}#lyrics-details{padding:0 10px;line-height:1.3em;text-align:justify}button{padding:10px 16px;margin:4px;font-size:1.3em;background-color:#f8f8f8}button:hover{box-shadow:1px 3px 8px rgba(0,0,0,.25)}button.key{width:50px;height:50px;line-height:50px;padding:0;margin:2px}button.key.medium{width:120px}button.key.large{width:240px}.alternate-button-colour button:nth-child(even),button.dark{background-color:#34892e;color:#fff}.search-list-button{color:#000}form{width:50%;margin:0;padding:0}input{width:calc(100% - 10px);height:45px;font-size:1.5em;padding:1px 4px;margin:20px 0;box-shadow:1px 2px 6px rgba(0,0,0,.25)}#search-button{font-size:32px}#search-list-container{width:100%;height:392px;overflow-y:scroll}#search-list-container .search-item{padding:5px 2px}#search-list-container .search-item .title{font-size:1.3em;font-weight:700}#search-list-container .search-item .artist{font-size:1.1em;font-weight:700}#search-list-container .search-item .album{font-size:1.1em;font-style:italic}#search-list-container .search-item .lyrics{padding:0 10px;line-height:1.3em;text-align:justify}#search-list-container .search-item:nth-child(even){background-color:#f1faf0}#search-list-container .search-item:nth-child(odd) .key{background-color:#34892e;color:#fff}.highlight{padding:1px 0;background-color:#a1de9d;border:1px solid #81be6d}#background{display:none;position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}#background.visible{display:block}.popup-box{width:450px;height:250px;text-align:center;margin:40px auto;background-color:#fff;box-shadow:0 1px 2px rgba(0,0,0,.25)}.popup-box h2{padding:45px 5px 5px 10px}.popup-box .key{margin:20px 10px}.popup-box .key:nth-child(odd){background-color:#34892e;color:#fff}</style><body onload=body_Load()><div class=player-container><div class=pane><h1>Albums:<div class=counter id=albums-counter>(0)</div></h1><select class=pane-content id=album-select onchange=albums_Change() size=1000></select></div><div class=pane><h1>Tracks:<div class=counter id=tracks-counter>(0)</div></h1><select class=pane-content id=track-select onchange=tracks_Change() size=1000></select></div><div class=pane id=details-pane><h1>Details:</h1><div class="pane-content details"><img alt="Track Artwork"id=artwork-details src=""><p id=title-details><p id=artist-details><p id=album-details><p><audio controls id=audio-details><source src=""type=audio/mpeg><source src=""type=audio/wav>Your browser does not support the audio element.</audio><p id=lyrics-details></div></div><div class="pane hidden"id=search-pane><h1>Search:<div class=counter id=search-counter>(0)</div></h1><div class=pane-content id=search-list-container></div></div><div class="pane wide-pane"><span class=search-label>Search:</span><form name=search><input autofocus name=textbox onblur=this.focus() onchange=searchTextbox_Change(this) oninput=this.onchange() onkeypress=this.onchange() onpaste=this.onchange() placeholder="Search albums, tracks and lyrics..."></form><button onclick=toggleSeachPaneVisible() class="dark key"><span id=search-button>âŒ•</span></button><div class=alternate-button-colour id=row1></div><div class=alternate-button-colour id=row2></div><div class=alternate-button-colour id=row3></div><div class=alternate-button-colour id=row4></div></div></div><div id=background><div class=popup-box><h2>Are you sure you want to reset?</h2><button onclick=resetSearch(!0)>Yes</button><button onclick=resetSearch(!1) class=dark>No</button></div></div>